;stack a bir dizinin elemanlarını gönderen program

section .data

    SYS_EXIT    equ 60
    Exit_succes equ 0
    
    numbers dq  121, 122, 123, 124, 125
    len     dq  5
    
global _start
_start:
    
    mov rcx, qword[len]
    mov rbx, numbers
    mov r12, 0
    mov rax, 0
    
pushLoop:
    push    qword[rbx + r12 *8]; stack e yerleştiriyoruz stack yığın kütük yığını gibi düşünülebilir üstüne istifledikçe ilk alacağın üsteki elemandır
    inc     r12
    loop    pushLoop
    
    mov rcx, qword[len]
    mov rbx, numbers
    mov r12, 0
;stack adreslemesi little endian şeklindedir yani
;düşük bit yüksek adreste tutulur.ve stack a eklenen
;değer 64 bit olmak zorundadır. yani elemanlar arası
;adresler 8 birim 8 birim artar 
popLoop:
    pop rax
    mov qword[rbx + r12 *8], rax
    inc r12
    loop    popLoop
    
exit:
    mov rax, SYS_EXIT
    mov rdi, Exit_succes
    syscall
